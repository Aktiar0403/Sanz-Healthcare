<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sanj Healthcare - Products</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../css/design-system.css">
<link rel="stylesheet" href="../css/components.css">
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

<style>
  body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
  h1 { text-align:center; margin-top:20px; }
  .container { max-width: 1200px; margin: 20px auto; display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
  .card { background: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); position: relative; }
  .bonus { position: absolute; top: 10px; right: 10px; background: #ff6347; color: #fff; padding: 5px 10px; border-radius: 5px; font-size: 0.85em; }
  .product-name { font-weight: bold; font-size: 1.1em; margin-bottom: 5px; }
  .description { font-size: 0.9em; margin-bottom: 10px; color: #555; }
  .price, .stock, .supplier, .gst, .batch, .expiry { font-size: 0.9em; margin-bottom: 3px; color: #333; }
  .btn { padding: 8px 16px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; }
  .edit-btn { background: #2196F3; color: white; }
  .delete-btn { background: #f44336; color: white; }
  .add-btn { background: #4CAF50; color: white; margin: 20px auto; display: block; padding: 10px 20px; }
  .cancel-btn { background: #6c757d; color: white; }
  .summary { max-width: 1200px; margin: 20px auto; background: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
  #productForm { display: none; max-width: 500px; margin: 20px auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
  #productForm input, #productForm select { width: 100%; margin: 8px 0; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
  #formTitle { text-align:center; margin-bottom:15px; font-weight:bold; color: #0d6efd; }
  .form-buttons { display: flex; gap: 10px; margin-top: 15px; }
  .loading { text-align: center; padding: 40px; color: #6c757d; }
  .error-message { background: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px; margin: 10px 0; text-align: center; }
  .scheme-badge { background: #ffa500; color: white; padding: 3px 8px; border-radius: 10px; font-size: 0.8em; margin-left: 5px; }

</style>
</head>
<body>

<h1>Sanj Healthcare Products</h1>

<button class="btn add-btn" onclick="showAddForm()">+ Add New Product</button>

<div id="productForm">
  <div id="formTitle">Add Product</div>
  <input type="hidden" id="productId">
  <input type="text" id="name" placeholder="Product Name *" required>
  <input type="text" id="batch" placeholder="Batch *" required>
  <input type="date" id="expiry" placeholder="Expiry Date">
  <input type="number" id="mrp" placeholder="MRP" step="0.01" min="0">
  <input type="number" id="gst" placeholder="GST (%)" step="0.01" min="0" max="100">
  <input type="number" id="retailerPrice" placeholder="Retailer Price" step="0.01" min="0">
  <input type="number" id="stockistPrice" placeholder="Stockist Price" step="0.01" min="0">
  <input type="number" id="supplierPrice" placeholder="Supplier Price" step="0.01" min="0">
  <!-- Add these fields to your products form in products.html -->
<div class="form-group">
    <label>Composition</label>
    <input type="text" id="composition" placeholder="Active ingredients and strengths">
</div>

<div class="form-group">
    <label>Packing</label>
    <input type="text" id="packing" placeholder="e.g., 10x10 Tablets, 100ml Bottle">
</div>
  
  <!-- Scheme/Bonus Field -->
  <select id="bonus">
    <option value="">No Scheme</option>
    <option value="10+1">10+1 Scheme</option>
    <option value="10+2">10+2 Scheme</option>
    <option value="1+1">1+1 Scheme</option>
    <option value="5+1">5+1 Scheme</option>
    <option value="20% Extra">20% Extra</option>
    <option value="10% Extra">10% Extra</option>
    <option value="Free Gift">Free Gift</option>
  </select>
  
  <input type="number" id="stock" placeholder="Stock Quantity" min="0">
  <input type="text" id="category" placeholder="Category">
  <input type="text" id="description" placeholder="Description">
  <div class="form-buttons">
    <button class="btn add-btn" onclick="saveProduct()">Save Product</button>
    <button class="btn cancel-btn" onclick="hideForm()">Cancel</button>
  </div>
</div>

<div class="container" id="productContainer">
  <div class="loading">
    <h3>Loading products...</h3>
    <p>Please wait while we load your product catalog</p>
  </div>
</div>

<div class="summary" id="summaryContainer">
  <h2>Inventory Summary</h2>
  <p>Total Supplier Cost: ₹<span id="totalSupplier">0</span></p>
  <p>CNF Charges: ₹<span id="totalCNF">5,000</span></p>
  <p>Delivery Charges: ₹<span id="totalDelivery">2,000</span></p>
  <p><strong>Grand Total: ₹<span id="grandTotal">0</span></strong></p>
</div>

<script src="../js/firebase-config.js"></script>
<script src="../js/navigation.js"></script>
<script src="../js/products.js"></script>

</body>
</html>